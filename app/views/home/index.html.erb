<div class="jumbotron jumbotron-fluid bg-transparent text-white">
    <div class="container">
        <h1 class="display-4">ACCS IT Support System</h1>
        <p class="lead">Realtime chat with users</p>
    </div>
    <div class="popup-trigger bg-dark text-white col-3">
        <p>Chat with support</p>
      </div>
      <div class="popup-wrapper bg-white col-3 p-0 collapse">
        <div class="popup-head bg-dark p-1">
          <p>Close chat window</p>
        </div>
        <div class="start-chat-wrapper bg-light px-1 mt-5">
          <%= form_with(model: @chatroom, id: 'start-chat-form') do |form| %>
            <div class="field">
              <%= form.text_field :name, id: :name, class: "form-control", required: true, placeholder: "Enter your name" %>
            </div>
            <div class="field">
              <%= form.email_field :email, id: :email, class: "form-control mt-3", required: true, placeholder: "Enter your email" %>
            </div>
            <div class="actions">
              <%= form.submit 'Start chat', class: "btn btn-dark btn-block mt-2" %>
            </div>
          <% end %>
        </div>
        <div class="chat-wrapper bg-light px-1 collapse">
          <div class="chats">
          </div>
          <div class="chat-form">
            <%= form_with( scope: :chat, url: room_messages_path, format: :json, id: 'chat-form') do |form| %>
              <div class="field">
                <%= form.text_field :message, id: :message, class: "form-control", required: true, placeholder: "Enter your message" %>
                <%= form.hidden_field :name, id: :name %>
                <%= form.hidden_field :chatroom_id, id: :chatroom_id %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
</div>
